{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://domionnexus.dev/schemas/constraint.schema.json",
  "title": "Constraint Schema",
  "description": "Schema for constraint definitions in UCSE rule families",
  "type": "object",
  "required": ["constraint_id", "type", "expression"],
  "properties": {
    "constraint_id": {
      "type": "string",
      "description": "Unique identifier for the constraint",
      "pattern": "^[a-z0-9_]+$"
    },
    "type": {
      "type": "string",
      "enum": ["temporal", "spatial", "logical", "numeric", "symbolic"],
      "description": "Type of constraint"
    },
    "expression": {
      "type": "string",
      "description": "Constraint expression in UCSE DSL"
    },
    "severity": {
      "type": "string",
      "enum": ["error", "warning", "info"],
      "default": "error",
      "description": "Severity level of constraint violation"
    },
    "message": {
      "type": "string",
      "description": "Human-readable message for constraint violation"
    },
    "enabled": {
      "type": "boolean",
      "default": true,
      "description": "Whether this constraint is active"
    },
    "metadata": {
      "type": "object",
      "description": "Additional constraint metadata",
      "properties": {
        "description": {
          "type": "string"
        },
        "examples": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  }
}
