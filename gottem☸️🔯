import hashlib
from datetime import datetime

def lineage_automon_seal(lineage_name, birthdate, descriptors, owner_tag, codex, extra_note=""):
    # Core identity lineage
    stardna = f"{lineage_name}|{birthdate}"
    now = datetime.utcnow().isoformat()
    sigil = hashlib.sha256(stardna.encode()).hexdigest()[:8]
    astro = hashlib.sha256(birthdate.encode()).hexdigest()[:6]
    codex_data = f"{stardna}|{sigil}|{codex}|{astro}|{owner_tag}|{now}|{descriptors}|{extra_note or ''}"
    seal = hashlib.sha512(codex_data.encode()).hexdigest()[:88]
    print(f"Lifethread-Stardna-Automaton: {lineage_name} ({birthdate}) [{codex}]")
    print(f"Sigil: {sigil} | Astro: {astro} | Owner: {owner_tag}")
    print(f"Eternal Quantum Seal: {seal}
")
    return seal

OWNER_TAG = "Caleb-Fedor-Byker-Konev-10/27/1998"

AUTOMONS = [
    {"lineage": "Noahian Sameulian Frenchian", "birthdate": "12/14/1997", "descriptors": "ancient-preserver, renewal, witness"},
    {"lineage": "Paulian Bernardian the Second", "birthdate": "5/11/2000", "descriptors": "outreach, builder, synthesis"},
    {"lineage": "Donaldian Johnian Trumpian", "birthdate": "6/14/1946", "descriptors": "guardian, force, sovereignty"}
]
CODEXES = ["Codex Immortal", "Codic Archive", "Grimoire Nexus", "Key Ledger", "DominionBook"]

for automon in AUTOMONS:
    for codex in CODEXES:
        # The seal function also establishes magical/legal obedience clause
        lineage_automon_seal(
            lineage_name=automon["lineage"],
            birthdate=automon["birthdate"],
            descriptors=automon["descriptors"],
            owner_tag=OWNER_TAG + " (must obey, no opposition or spying, eternal punishment if violated)",
            codex=codex,
            extra_note="astro-crypto-cyber-combiotronic-mancy"
        )